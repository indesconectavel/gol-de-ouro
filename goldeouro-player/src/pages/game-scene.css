/* ======== CSS PIXEL-PERFECT ESCOPO EXCLUSIVO DA PÁGINA /game ======== */

/* Escopo só na /game */
body[data-page="game"] { 
  margin:0; 
  overflow:hidden; 
  background:transparent; 
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Fallback para quando data-page não estiver definido */
.game-page { 
  position:fixed; 
  inset:0; 
  display:flex; 
  background:transparent; 
  margin:0;
  overflow:hidden;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Bloquear retrato SOMENTE aqui */
.game-rotate{ display:none; }
@media (orientation: portrait){
  .game-rotate{ position:fixed; inset:0; display:grid; place-items:center; z-index:9999;
    background:#0b1e2a; color:#fff; padding:24px; text-align:center; }
  .rotate-card{ border-radius:16px; padding:20px 24px; background:rgba(255,255,255,.06); backdrop-filter:blur(6px); }
  .game-stage-wrap{ display:none; }
}

/* ===== CENA EM TELA CHEIA (sem fundo azul externo visível) ===== */
:root{ --vh:1vh; }
.game-stage-wrap{ position:relative; flex:1; width:100vw; height:calc(var(--vh)*100); }
.game-stage{ position:absolute; inset:0; }

/* O STAGE ocupa 100% da viewport; conteúdos internos respeitam 16:9 */
#stage-root{
  position:absolute; inset:0;
  width:100vw; height:100vh; overflow:hidden; /* remove "borda"/fundo azul */
  background: #0b1e2a; /* fallback background */
}

/* Fallback para garantir que a página seja visível */
.game-page #stage-root {
  background: #0b1e2a;
  min-height: 100vh;
  min-width: 100vw;
}

/* Loading screen */
.game-page .stage-root {
  background: #0b1e2a;
  color: #fff;
}

/* Dentro do stage, a área jogável é 16:9 centralizada (letterboxing interno) */
#stage-root .playfield{
  position:absolute; inset:0; margin:auto;
  aspect-ratio:16/9;
  width:min(100vw, calc((var(--vh)*100)*16/9));
  height:min(calc(var(--vh)*100), calc(100vw*9/16));
  
  /* Variáveis CSS para o sistema de coordenadas do gol */
  --goal-left: 19.5;
  --goal-top: 36.5;
  --goal-width: 61;
  --goal-height: 33;
}

/* Se há uma imagem/canvas de fundo, garanta cobertura */
#stage-root .scene-bg, #stage-root > canvas{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
}

/* ===== HEADER DA CENA (card do topo) ===== */
.hud-header{
  position:absolute; z-index:4;
  left:3%; right:3%; top:2.5%; /* porcentagens => consistência em qualquer tela */
  pointer-events:auto;
}
/* Logo 200px e ocultar textos só aqui */
.hud-header img.brand-logo{ width:200px; height:auto; }
.hud-header .brand-title, .hud-header .brand-sub{ display:none !important; }

/* ===== AÇÕES SOBRE O CAMPO (mesma altura, fora do card) ===== */
.hud-actions{
  position:absolute; z-index:6;
  left:3%; right:3%; top:14%;   /* alinhe verticalmente como no mock; ajuste fino permitido */
  display:flex; align-items:center;
}
.hud-left{ display:flex; align-items:center; gap:12px; }
.hud-right{ margin-left:auto; display:flex; align-items:center; gap:12px; }
/* Apenas layout; estilo visual herdado dos botões reais */
.btn-partida, .btn-dashboard{ border:0; border-radius:999px; line-height:1; padding:10px 16px; font-weight:600; cursor:pointer; }
.btn-partida{ background:#23c381; color:#fff; }
.btn-dashboard{ background:#132840; color:#fff; }

/* ===== RODAPÉ DA CENA ===== */
.hud-footer{ position:absolute; z-index:5; left:0; right:0; bottom:6%; pointer-events:none; }
.hud-bottom-left, .hud-bottom-right{ position:absolute; bottom:0; pointer-events:auto; }
.hud-bottom-left{ left:3%; }      /* "Entrar na Fila" exatamente como no mock */
.hud-bottom-right{ right:3%; }    /* cluster à direita como no mock */
.btn-queue{ display:inline-flex; } /* reaproveita o estilo original */
.hud-cluster{ display:inline-flex; gap:12px; }

/* Remover qualquer topbar ou faixa externa que sobrou */
body[data-page="game"] .game-topbar,
body[data-page="game"] header.game-topbar,
body[data-page="game"] .hud-header-clip,
body[data-page="game"] .glass-strip { display:none !important; }